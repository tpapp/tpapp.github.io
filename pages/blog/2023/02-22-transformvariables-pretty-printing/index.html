<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link href="/css/style.css" rel=stylesheet > <script src="/libs/vela/jquery.min.js"></script> <link rel=icon  href="/assets/favicon.png"> <title>Tamás K. Papp &mdash; TransformVariables.jl gets pretty printing</title> <div id = "navbar"> <a href="/">About</a> <a href="/pages/research">Research</a> <a href="/pages/blog">Blog</a> <a href="/pages/teaching">Teaching</a> <a href="https://github.com/tpapp/">Github</a> <div class=dropdown > <a class=dropdown-button >(tags)</a> <div class=dropdown-content > <p class=dropdown-header >site tags</p> <a href="/tag/julia">julia</a> <a href="/tag/announcement">announcement</a> <a href="/tag/numerical">numerical</a> <a href="/tag/spectralkitjl">SpectralKit.jl</a> <a href="/tag/transformvariablesjl">TransformVariables.jl</a> <a href="/tag/package">package</a> <a href="/tag/markdown">markdown</a> <a href="/tag/franklin">franklin</a> </div> </div> <a href="/feed.xml" type="application/rss+xml" target=_blank ><img class=feedicon  src="/assets/img/feed_icon.svg" alt="Atom feed (blog)" title="Atom feed (blog)"></a> </div> <div class=main-content > <h1 class=title >TransformVariables.jl gets pretty printing</h1> <div class=tags > <span class=date >2023-02-22</date></span> <a href="/tag/julia">julia</a> <a href="/tag/package">package</a> <a href="/tag/transformvariablesjl">TransformVariables.jl</a> </div> <div class=franklin-content > <p>A recent update &#40;version 0.8.2&#41; to <a href="https://github.com/tpapp/TransformVariables.jl">TransformVariables.jl</a> adds pretty printing of &#40;nested&#41; transformations. Eg what used to be</p> <pre><code class="julia hljs">julia&gt; <span class=hljs-keyword >using</span> StaticArrays, TransformVariables

julia&gt; t = as((a = asℝ₊, b = as(<span class=hljs-built_in >Array</span>, asℝ₋, <span class=hljs-number >3</span>, <span class=hljs-number >3</span>),
               c = corr_cholesky_factor(<span class=hljs-number >13</span>),
               d = as((asℝ, corr_cholesky_factor(SMatrix{<span class=hljs-number >3</span>,<span class=hljs-number >3</span>}),
                       UnitSimplex(<span class=hljs-number >3</span>), UnitVector(<span class=hljs-number >4</span>)))))
TransformVariables.TransformTuple{<span class=hljs-built_in >NamedTuple</span>{(:a, :b, :c, :d), <span class=hljs-built_in >Tuple</span>{TransformVariables.ShiftedExp{<span class=hljs-literal >true</span>, <span class=hljs-built_in >Int64</span>}, TransformVariables.ArrayTransformation{TransformVariables.ShiftedExp{<span class=hljs-literal >false</span>, <span class=hljs-built_in >Int64</span>}, <span class=hljs-number >2</span>}, CorrCholeskyFactor, TransformVariables.TransformTuple{<span class=hljs-built_in >Tuple</span>{TransformVariables.Identity, TransformVariables.StaticCorrCholeskyFactor{<span class=hljs-number >3</span>, <span class=hljs-number >3</span>}, UnitSimplex, UnitVector}}}}}((a = asℝ₊, b = TransformVariables.ArrayTransformation{TransformVariables.ShiftedExp{<span class=hljs-literal >false</span>, <span class=hljs-built_in >Int64</span>}, <span class=hljs-number >2</span>}(asℝ₋, (<span class=hljs-number >3</span>, <span class=hljs-number >3</span>)), c = CorrCholeskyFactor(<span class=hljs-number >13</span>), d = TransformVariables.TransformTuple{<span class=hljs-built_in >Tuple</span>{TransformVariables.Identity, TransformVariables.StaticCorrCholeskyFactor{<span class=hljs-number >3</span>, <span class=hljs-number >3</span>}, UnitSimplex, UnitVector}}((asℝ, TransformVariables.StaticCorrCholeskyFactor{<span class=hljs-number >3</span>, <span class=hljs-number >3</span>}(), UnitSimplex(<span class=hljs-number >3</span>), UnitVector(<span class=hljs-number >4</span>)), <span class=hljs-number >9</span>)), <span class=hljs-number >97</span>)</code></pre> <p>which is a single line of 700&#43; characters &#40;which your browser mercifully hides behind a scrollbar&#41;, we now have</p> <pre><code class="julia hljs">julia&gt; <span class=hljs-keyword >using</span> StaticArrays, TransformVariables
[ Info: Precompiling TransformVariables [<span class=hljs-number >84</span>d833dd-<span class=hljs-number >6860</span>-<span class=hljs-number >57f9</span>-a1a7-<span class=hljs-number >6</span>da5db126cff]

julia&gt; t = as((a = asℝ₊, b = as(<span class=hljs-built_in >Array</span>, asℝ₋, <span class=hljs-number >3</span>, <span class=hljs-number >3</span>),
                      c = corr_cholesky_factor(<span class=hljs-number >13</span>),
                      d = as((asℝ, corr_cholesky_factor(SMatrix{<span class=hljs-number >3</span>,<span class=hljs-number >3</span>}),
                              UnitSimplex(<span class=hljs-number >3</span>), UnitVector(<span class=hljs-number >4</span>)))))
[<span class=hljs-number >1</span>:<span class=hljs-number >97</span>] <span class=hljs-built_in >NamedTuple</span> of transformations
  [<span class=hljs-number >1</span>:<span class=hljs-number >1</span>] :a → asℝ₊
  [<span class=hljs-number >2</span>:<span class=hljs-number >10</span>] :b → <span class=hljs-number >3</span>×<span class=hljs-number >3</span>×asℝ₋ (dimension <span class=hljs-number >1</span>)
  [<span class=hljs-number >11</span>:<span class=hljs-number >88</span>] :c → <span class=hljs-number >13</span>×<span class=hljs-number >13</span> correlation cholesky factor
  [<span class=hljs-number >89</span>:<span class=hljs-number >97</span>] :d → <span class=hljs-built_in >Tuple</span> of transformations
    [<span class=hljs-number >98</span>:<span class=hljs-number >98</span>] <span class=hljs-number >1</span> → asℝ
    [<span class=hljs-number >108</span>:<span class=hljs-number >110</span>] <span class=hljs-number >2</span> → SMatrix{<span class=hljs-number >3</span>,<span class=hljs-number >3</span>} correlation cholesky factor
    [<span class=hljs-number >120</span>:<span class=hljs-number >121</span>] <span class=hljs-number >3</span> → <span class=hljs-number >3</span> element unit simplex transformation
    [<span class=hljs-number >131</span>:<span class=hljs-number >133</span>] <span class=hljs-number >4</span> → <span class=hljs-number >4</span> element unit vector transformation</code></pre> <p>which tells you which indices map to which part of the result.</p> <script src="https://utteranc.es/client.js" repo="tpapp/tpapp.github.io-comments" issue-term=pathname  label=comment  theme=github-light  crossorigin=anonymous  async> </script> <div class=page-foot > <div class=copyright > &copy; Tamás K. Papp. Last modified: February 22, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div></div> </main> <script src="/libs/vela/metisMenu.min.js"></script> <script src="/libs/vela/slideout.min.js"></script>